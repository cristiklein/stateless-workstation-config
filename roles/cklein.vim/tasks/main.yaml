---
- name: Install vim
  become: true
  ansible.builtin.apt:
    name:
      - ansible-lint
      - git
      - vim-gtk3

- name: Configure default editor
  ansible.builtin.template:
    src: selected_editor.j2
    dest: ~/.selected_editor
    mode: '0644'

- name: Clone vim configuration
  ansible.builtin.git:
    repo: '{{ repos.vimrc }}'
    dest: ~/.vim
    depth: 1
    update: false
    version: master

- name: Link .vimrc to ~
  ansible.builtin.file:
    src: ~/.vim/.vimrc
    dest: ~/.vimrc
    state: link
